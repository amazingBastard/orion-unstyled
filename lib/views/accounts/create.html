<template name="orionAccountsCreate">
  {{# Layout template="orionSmallContentOffset" }}

    {{# Layout template="orionTitle" }}
      {{ i18n 'accounts.create.title' }}
    {{/ Layout }}

    {{# Layout template="orionContentContainer" }}

      {{# if invitationId }}

        <div class="orion positive alert">
          Invitation created successfully
        </div>

        <p class="orion message">
          <a class="orion route link" href="{{ RouterLayerPathFor 'registerWithInvitation' _id=invitationId }}">
            {{ urlFor 'registerWithInvitation' _id=invitationId }}
          </a>
        </p>

        <div class="orion actions">
          <a class="orion button" href="{{ RouterLayerPathFor 'accounts.index' }}">{{ i18n 'global.back' }}</a>
          <button class="orion primary button btn-invite-another">{{ i18n 'accounts.create.inviteOther' }}</button>
        </div>

      {{ else }}

        <form class="orion create account form">

          <div class="orion radio">
            <label for="createMethod" class="orion label">
              <input type="radio" class="orion input" name="createMethod" value="invitation" checked>
              {{ i18n 'accounts.create.createInvitation' }}
            </label>
          </div>

          <div class="orion radio">
            <label for="createMethod" class="orion label">
              <input type="radio" class="orion input" name="createMethod" value="now">
              {{ i18n 'accounts.create.createUserNow' }}
            </label>
          </div>

          <div class="orion fields">
            <label class="orion label">{{ i18n 'accounts.create.selectRoles' }}</label>
            {{# each roles }}
              <div class="orion checkbox">
                <label for="role" class="orion label">
                  <input type="checkbox" class="orion input" name="role" role="{{ this }}">
                  <code class="orion code">{{ this }}</code>
                </label>
              </div>
            {{/ each }}
          </div>

          <div class="orion field">
            <label for="email" class="orion label">{{ i18n 'accounts.create.email' }}</label>
            <input type="email" class="orion input" name="email">
          </div>

          {{# unless createWithInvitation }}

            <div class="orion field">
              <label for="name" class="orion label">{{ i18n 'accounts.schema.profile.name' }}</label>
              <input type="text" class="orion input" name="name">
            </div>

            <div class="orion field">
              <label for="password" class="orion label">{{ i18n 'accounts.schema.password.new' }}</label>
              <input type="password" class="orion input" name="password">
            </div>

            <div class="orion field">
              <label for="confirm" class="orion label">{{ i18n 'accounts.schema.password.confirm' }}</label>
              <input type="password" class="orion input" name="confirm">
            </div>

          {{/ unless }}

          <div class="orion actions">
            <a class="orion button" href="{{ RouterLayerPathFor 'accounts.index' }}">{{ i18n 'global.cancel' }}</a>
            <button class="orion primary button">{{ i18n 'global.create' }}</button>
          </div>

        </form>
      {{/ if }}
    {{/ Layout }}
  {{/ Layout }}
</template>
